\begin{lemma}
The following are equivalent:
\begin{enumerate}
	\item $X$ is affine
	\item $\counit_X$ is an isomorphism
	\item $\counit_X$ is a homeomorphism
\end{enumerate}
\end{lemma}

\begin{proof}
1 \Rightarrow 2:
Assume that $X = \Spec R$.
Then $\ker{\Ip} = \Ip$ for $\Ip \in X$, so the topological part of $\counit_X$ is an homeomorphism.
The sheaf part of $\counit_X$ sends the global section $1\in \sheaf{O}(X)$ to $1 \in R$,
since the sheaf morphism is a $\sheaf{O}_{\Spec{R}}$-algebra map, it has to be the identity.

2 \Rightarrow 3:
By definition.

3 \Rightarrow 1:
Let $\Spec A_i = U_i \subset X$ be open affines
and suppose $\union_i U_i = X$.
Assume it is a finite affine cover, which can be done since $X$ is quasi-compact.
Using our base, 
we get a cover of $U_i = \union_j D_X(a_{ij})$ 
with $a_{ij}$ global sections.
Observe that $D_X(a_{ij})\subset U_i$, 
hence $D_{U_i}(\restr{U_i}{a_{ij}}) = D_X(a_{ij})$
which makes them affine.
Continuing like this, 
we get a finite cover of affines $D_X(a_{ij})$ of $X$.
Since 
\[ \counit_X(X) = \counit_X(\union_{ij} D_X(a_{ij})) = \union_{ij} D_{\Spec{R}}(a_{ij}) = \Spec R,\]
we have $(a_{ij})=(1)$.
Now both requirements of \cite[Ex.2.17]{harts} are satisfied,
hence $X$ is affine.
\end{proof}