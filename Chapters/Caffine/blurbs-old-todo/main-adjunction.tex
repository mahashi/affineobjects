\input{../../preamble.tex}

\begin{document}

\begin{lemma}[Main adjunction]
The functors 
\[\Tildefunctor{\blank}: \modules{\globalsections{O}} \rightarrow \qcoh{O},\]
\[\globalsections{\blank}: \qcoh{O} \rightarrow \modules{\globalsections{O}}\]

form an adjunction $\adjunction{\Tildefunctor{\blank}}{\globalsections{\blank}}$.
\end{lemma}

\begin{proof}
Let $M$ be a $\globalsections{O}$ module.
Let $\module{G}$ be a $\sheaf{O}$ module.

Define 
\[\varphi_{M,\module{G}}: \Hom{\Tildefunctor{M}}{\module{G}} \rightarrow \Hom{M}{\globalsections{G}}\]
\[ f \mapsto \globalsections{fi}\]

where $i$ is the canonical map from a presheaf to its sheafification.

Define 
\[\phi_{M,\module{G}}: \Hom{M}{\globalsections{G}} \rightarrow \Hom{\Tildefunctor{M}}{\module{G}}\]
\[ g \mapsto \sheafify{U: m\tensor u \mapsto g(m)u}\]

The subscripts will be suppressed when no confusion can arise.

Let $g\in \Hom{M}{\globalsections{G}}$. 
Then 
\begin{align*}
\varphi(\phi(g)) &= \globalsections{\sheafify{U: m\tensor u \mapsto g(m)u}i} \\
&= \globalsections{U: m\tensor u \mapsto g(m)u} \\
&= (m \tensor u = mu \tensor 1 \mapsto g(mu)) \\
&= g
\end{align*}

Let $f\in \Hom{\Tildefunctor{M}}{G}$. 
Then 
\begin{align*}
\phi(\varphi(f))i &= \sheafify{U: m\tensor u \mapsto \globalsections{fi}(m)u}i \\
&= (U: m\tensor u \mapsto \globalsections{fi}(m)u) \\
&= fi
\end{align*}

Note that precomposition with $i$ is a bijection. So $\phi(\varphi(f)) = f$.

%% TODO: Naturality of bijection

Let $M\xrightarrow{\alpha} N$ and $\module{G}\xrightarrow{\beta} \module{H}$.



\end{proof}

\end{document}