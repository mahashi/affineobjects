\begin{lemma}\label[lemma]{bb2}
Let $X$ be a scheme.
If $X_{f_i}$ is affine for all $i$ 
and $(f_i)_{i\in I} =(1)$ then $X$ is affine. 
\end{lemma}

\begin{proof}
Let $\Union_i D(f_i) = \Spec{\sect{X}{O}}$.
Consider the canonical $\counit: X\rightarrow \Spec{\sect{X}{O}}$.
By definition $\inverse{\counit}(D(f_i)) = X_{f_i}$.
By assumption $X_{f_i}$ is affine.
By \cite[\href{http://stacks.math.columbia.edu/tag/01S8}{Tag 01S8}]{stacks}]
the morphism $\counit$ is affine, hence $X$ is affine.
\end{proof}