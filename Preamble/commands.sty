\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{commands}[2016/06/14]
\RequirePackage{Preamble/packages}

\newcommand{\topo}[1]{{\ensuremath{\mathcal{#1}}}}
\newcommand{\cat}[1]{{\ensuremath{\mathsf{#1}}}}
\newcommand{\sheaf}[1]{\ensuremath{\mathfrak{#1}}}
\newcommand\shf\sheaf
\newcommand{\presheaf}[1]{\ensuremath{\mathfrak{#1}}}
\newcommand\psh\presheaf
\newcommand{\Ip}{\ensuremath{\mathfrak{p}}}
\newcommand\disjointunion\sqcup
\newcommand\Disjointunion\bigsqcup
\newcommand\Coproduct\bigoplus
\newcommand\coproduct\oplus
\newcommand\tensor\otimes
\newcommand\Tensor\bigotimes
\newcommand\Union\bigcup
\newcommand\union\cup

%Categories
\newcommand\schemes{\cat{Sch}}
\newcommand\affschemes{\cat{AffSch}}
\newcommand\Rng{\cat{Rng}}
\newcommand\Rings\Rng
\newcommand\LocRingSpaces{\cat{LRSpaces}}
\newcommand{\Sets}{\cat{Set}}

\newcommand\match[2]{\mbox{Match}(#1,#2)}
\newcommand\matchfam[3]{\set{{#1}_{#2} \suchthat #2 \in #3}}
\newcommand\cov{\mbox{Cov}}
\newcommand\Opp[1]{{#1}^{Opp}}
\newcommand\opposite\Opp

\renewcommand\qedsymbol{\rule{1ex}{1ex}}
\renewcommand{\iff}{if and only if }

\newcommand{\heq}{\simeq}
\newcommand{\affspace}[1]{\A^{1}}
\newcommand{\projspace}[1]{\P^{1}}

\newcommand{\copresheaves}[1]{\hat{\cat{#1}}}
\newcommand{\presheaves}{\copresheaves}
\newcommand{\functors}[2]{[\cat{#1},\cat{#2}]}
\newcommand\sieves\sievecat
%\newcommand{\coyoneda}[1]{h_{#1}}
\newcommand\ynd\yoneda
\newcommand\y\ynd
\newcommand{\contrayoneda}[1]{h^{#1}}
\newcommand{\overcat}[2]{\cat{#1}_{#2}}
\newcommand{\undercat}[2]{\cat{#1}^{#2}}
\newcommand{\oversite}{\overcat}
\newcommand{\undersite}{\undercat}
\newcommand\overschemes[1]{\overcat{\schemes}{#1}}
\newcommand{\obj}[1]{Obj(\cat{#1})}
\newcommand{\signature}[3]{#1:#2\rightarrow #3}
\newcommand{\suchthat}{ \mid }
\newcommand{\definedAs}{:=}
\newcommand{\basis}{\topo}
\newcommand{\intersect}{\cap}


\newcommand{\opens}[1]{\cat{Open}(#1)}
\newcommand{\site}[2]{(\cat{#1}, \topo{#2})}
\newcommand{\ringedspace}[2]{({#1}, {\sheaf{#2}})}
\newcommand\rspace\ringedspace
\newcommand\scheme\ringedspace
\newcommand{\rsite}[3]{(\cat{#1}, \topo{#2}, {\sheaf{#3}})}

\newcommand{\adjunction}[2]{{#1} \dashv {#2}}
\newcommand{\adj}{\adjunction}


%\newcommand{\stilde}[1]{\Lambda(#1)}
\DeclareDocumentCommand{\stilde}{ g g }{%
 \IfNoValueTF{#2}%
          {\IfNoValueTF{#1}%
            {\Lambda}%
            {\Lambda(#1)}%
          }%
          {\Lambda_{#1}(#2)}%
}
\DeclareDocumentCommand{\pstilde}{ g g }{%
 \IfNoValueTF{#2}%
          {\IfNoValueTF{#1}%
            {\lambda}%
            {\lambda(#1)}%
          }%
          {\lambda_{#1}(#2)}%
}

\DeclareDocumentCommand{\restrict}{ m g }{%
 \IfNoValueTF{#2}%
          {\restrictie{\pt}{#1}}%
          {\restrictie{#2}{#1}}%
}
\newcommand\restrictOpt\restrict
\newcommand\restr\restrict
\newcommand\restrictie[2]{{% we make the whole thing an ordinary symbol
  \left.\kern-\nulldelimiterspace % automatically resize the bar with \right
  #1 % the function
  \vphantom{\big|} % pretend it's a little taller at normal size
  \right|_{#2} % this is the delimiter
}}

\DeclareDocumentCommand{\Hom}{ m m g }{%
 \IfNoValueTF{#3}%
          {\mbox{Hom}(#1,#2)}%
          {\mbox{Hom}_{#3}(#1,#2)}%
}


\DeclareDocumentCommand{\colimit}{ m g }{%
 \underset{#1}{\mbox{colim} } 
 \IfNoValueTF{#2} 
    {}
    {\; #2}%
}
\newcommand\colim\colimit
\DeclareDocumentCommand{\limit}{ m g }{%
 \underset{#1}{\mbox{lim} } 
 \IfNoValueTF{#2} 
    {}
    {\; #2}%
}

\DeclareDocumentCommand{\yoneda}{ g }{%
 \IfNoValueTF{#1}%
          {h}%
          {h(#1)}%
}

\DeclareDocumentCommand{\mainadjunction}{ g }{%
 \IfNoValueTF{#1}%
          {\adj{\stilde{\blank}}{\globalsections{\blank}}}%
          {\adj{\stilde{#1}{\blank}}{\sections{#1}}}%
}
%\newcommand{\mainadjunction}{\adj{\stilde{\blank}}{\globalsections{\blank}}}

\DeclareDocumentCommand{\sheafify}{ g }{%
 \IfNoValueTF{#1}%
          {sh}%
          {sh(#1)}%
}

\DeclareDocumentCommand{\Spec}{ g }{%
 \IfNoValueTF{#1}%
          {\mbox{Spec}}%
          {\mbox{Spec}(#1)}%
}
\newcommand\spec\Spec

\DeclareDocumentCommand{\plus}{ g }{%
 \IfNoValueTF{#1}%
          {(\blank)^+}%
          {{#1}^+}%
}

\DeclareDocumentCommand{\globalsections}{ g }{%
 \IfNoValueTF{#1}%
          {\sections{\terminal}{\blank}}%
          {\sections{\terminal}{#1}}%
}
\newcommand\gblsect\globalsections

\DeclareDocumentCommand{\sections}{ mg }{%
  \StrRight{#2}{1}[\lastletter]%
  \StrBefore{#2}{\lastletter}[\beforelastletter]%
  \IfNoValueTF{#2}%
    {\Gamma( #1 ; \blank)}%
    { 
      \Gamma( #1 ; \beforelastletter\presheaf{\lastletter})%
    }%
}

\newcommand\sect\sections

\DeclareDocumentCommand{\top}{ m g }{%
 \IfNoValueTF{#2}%
          {\topo{#1}}%
          {\topo{#1}(#2)}%
}
\DeclareDocumentCommand{\sieve}{ m g }{%
 \IfNoValueTF{#2}%
          {#1}%
          {{#1}(#2)}%
}
\DeclareDocumentCommand{\incsh}{ g }{%
 \IfNoValueTF{#1}%
          {i}%
          {i(#1)}%
}


\newcommand\Supp{\mbox{Supp }}
\newcommand{\maxsieve}[1]{\cat{max}(#1)}
\newcommand{\sheaves}[1]{\cat{Shv}(#1)}
\newcommand{\sheafmodules}[1]
  {
    \StrRight{#1}{1}[\lastletter]%
    \StrBefore{#1}{\lastletter}[\beforelastletter]%
    \beforelastletter\cat{Mod}(\lastletter)
  }
  
\newcommand\shmodules{\sheafmodules}
\newcommand\shmod\sheafmodules
\newcommand{\pshmodules}[1]{\cat{PMod}(#1)}
\newcommand{\qcoh}[1]{\cat{Qcoh}(\sheaf{#1})}
%\newcommand{\plus}[1]{{\presheaf{#1}}^+}
%\newcommand{\sheafify}[1]{a(\presheaf{#1})}
\newcommand{\id}{\mbox{Id}}
\newcommand{\blank}{{-}}
\newcommand{\prshfs}[2]{\presheaves{#1}(\cat{#2})}
\newcommand\pshs\presheaves
\newcommand\shs\sheaves
%\newcommand{\sections}[2]{\Gamma( #1 ; \presheaf{#2} )}
%\newcommand{\globalsections}[1]{\sections{\terminal}{#1}}
\newcommand\spull[1]{{#1}^*}
\newcommand{\cover}[2]{\set{{#1} \rightarrow {#2}}}

\newcommand{\module}[1]{\sheaf{#1}}
\newcommand{\terminal}{1}
\newcommand{\initial}{0}
\newcommand\sievecat[1]{\cat{Sieves}({#1})}

\newcommand\sites{\cat{Sites}}
\newcommand\inverse[1]{{#1}^{-1}}
\newcommand{\direct}[1]{{#1}_*}
\newcommand{\inverseimg}[1]{{#1}^{-1}}
\newcommand{\forward}[1]{{#1}_!}
\newcommand\pushforward\forward
\newcommand{\interhom}[2]{{#1}^{#2}}
\newcommand{\modules}[1]{#1\text{-}\cat{Mod}}
\newcommand{\pullback}[1]{{#1}^*}
\newcommand{\unit}{\eta}
\newcommand{\counit}{\epsilon}
\newcommand\subobjects[1]{\mbox{Sub}({#1})}
\newcommand{\domain}[1]{\mbox{Dom}(#1)}
\newcommand\dom{\domain}
\newcommand{\codomain}[1]{\mbox{Codom}(#1)}
\newcommand{\kernel}[1]{\mbox{Ker}(#1)}
\newcommand{\cokernel}[1]{\mbox{Coker}(#1)}
\newcommand{\image}[1]{\mbox{Im}(#1)}
\newcommand{\coimage}[1]{\mbox{Coim}(#1)}

\newcommand{\A}{\ensuremath{\mathbb{A}}}
\renewcommand{\S}{\ensuremath{\mathbb{S}}}
\renewcommand{\P}{\ensuremath{\mathbb}{P}}

\newcommand{\pt}{\ast}
\newcommand\eqclass[1]{[#1]}

\newcommand\set[1]{\{#1\}}
%\renewcommand{\if}{\mbox{ if }}
\newcommand{\otherwise}{\mbox{ otherwise }}
\newcommand{\reason}[1]{\mbox{ by #1}}
\newcommand\onsome{\mbox{ on some }}
\newcommand\with{\mbox{ : }}
\renewcommand\and{\mbox{,  }}

\newcommand\compl[1]{{#1}^c}
\newcommand{\iso}{\cong}
\newcommand{\kr}{\mbox{Ker}}
\newcommand{\im}{\mbox{Im}}
\newcommand{\Sup}{\mbox{Supp}}
\newcommand{\Ht}{\mathfrak{h}\mathfrak{t}}
\newcommand{\Dim}[1]{\mbox{Dim}(#1)}
\newcommand{\Span}[1]{\mbox{Span}_{#1}}
\renewcommand{\deg}{\mbox{deg }}
\newcommand{\eq}{\sim}
\renewcommand{\to}{\mapsto}
\newcommand{\givenby}{,\quad}
\newcommand{\Rspec}{\mbox{Rspec }}
\newcommand{\Ann}{\mbox{Ann}}
\newcommand{\Der}{\mbox{Der}}
\newcommand{\Trdg}{\mbox{Tr.dg }}
\newcommand{\Proj}{\mbox{Proj }}
\newcommand{\Sp}{\mbox{sp }}
\newcommand{\Dom}[1]{\mbox{Dom}(#1)}
\newcommand{\product}{\prod}
\newcommand{\presheafcat}[1]{\widehat{#1}}